{# =========================
    Elite Boosts. All rights reserved. 
   ========================= #}
<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    {% render_snippet "meta-tags.njk" %}

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link href="{{ 'pro.css' | assetUrl }}" rel="stylesheet"/>
    <link href="{{ 'custom.css' | assetUrl }}" rel="stylesheet"/>

    <style id="theme-styles">
      :root {
        --cl-accent: {{ global.properties.theme_color }};
        --cl-accent-rgb: {{ global.properties.theme_color | hex_to_rgb }};
        --cl-background-primary: {{ global.properties.primary_background_color }};
        --cl-background-primary-rgb: {{ global.properties.primary_background_color | hex_to_rgb }};
        --cl-background-secondary: {{ global.properties.secondary_background_color }};
        --cl-background-secondary-rgb: {{ global.properties.secondary_background_color | hex_to_rgb }};
        --cl-border: {{ global.properties.primary_border_color }};
        --cl-border-rgb: {{ global.properties.primary_border_color | hex_to_rgb }};
        --bs-font-sans-serif: '{{ (global.properties.font if global.properties.font else 'Poppins') }}', sans-serif;
        --cl-snow: {{ (global.properties.snow_color if global.properties.snow_color else '#ffffff') | hex_to_rgb }};
      }
    </style>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family={{ (global.properties.font if global.properties.font else 'Poppins') | replace(" ", "+") }}:wght@300;400;500;600;700&display=swap" rel="stylesheet" id="theme-font">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/choices.js@10.2.0/public/assets/styles/choices.min.css" rel="stylesheet" integrity="sha256-gS3HxgWFFFqEo0wQoALebu5XlWdYr3gqd4/Tk5wt8Ig=" crossorigin="anonymous" />
  </head>
  <body>
    {% if shop.background_image_url %}
      <div class="bg-image" style="background-image: url({{ shop.background_image_url }});"></div>
    {% endif %}
    
    <div class="flex-wrapper" id="app" x-data="app">
      <div>
        {% if templateName != 'maintenance' %}
          <header class="sticky-top">
            {% render_component "announcement" %}
            {% render_component "navbar" %}
          </header>
        {% endif %}

        {{ templateContent | safe }}
      </div>

      {% if templateName != 'maintenance' %}
        {% render_component "footer" %}
        {% render_snippet "customer-login-modal.njk" %}
      {% endif %}
    </div>

    <script>
      window.shopId = {{ shop.id | json }};
      window.apiBaseUrl = {{ '' | apiInternalUrl | json }};
      window.currencyRatesUsd = {{ currency_rates_usd | json }};
      window.defaultCurrency = {{ currency | json }};
      window.shopCustomer = {{ shop_customer | json }};
    </script>

    {% if isBuilder %}
      {% render_snippet "script-builder.njk" %}
    {% endif %}

    {% if altcha or altcha_shop_customer %}
      <script type="module">
        import altcha from 'https://cdn.jsdelivr.net/npm/altcha@1.2.0/+esm'
      </script>
    {% elif shop.recaptcha_key %}
      <script src="https://www.google.com/recaptcha/api.js?render={{ shop.recaptcha_key }}"></script>
    {% endif %}

    <script
      src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"
      integrity="sha256-WCzAhd2P6gRJF9Hv3oOOd+hFJi/QJbv+Azn4CGB8gfY="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/choices.js@10.2.0/public/assets/scripts/choices.min.js"
      integrity="sha256-P+JgcxEeZtxwYS1+TAAuusKFM646SB8Oodk0TYu9zuo="
      crossorigin="anonymous"
    ></script>
    <script
      src="{{ 'script.js' | assetUrl }}"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.3/dist/cdn.min.js"
      integrity="sha256-aJ9ROXjRHWn00zeU9ylsmlhqLlXeebtEfN28P0dPnwc="
      crossorigin="anonymous"
    ></script>
    <script 
      src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"
      crossorigin="anonymous"
    ></script>

    {% if global.properties.snow %}
      <div id="snow"></div>
      <script>snow({ count: 200 });</script>
    {% endif %}

    {% render_snippet "script-integrations.njk" %}
  </body>
</html>
{# ===== MONO BACKGROUND (épure) — drop-in + LUEURS ===== #}
<style>
  :root{
    
    --mono-top: #1a0f16;   
    --mono-bot: #0e0a0d;   
    --mono-accent: #ff5aa0;
    --grid-size: 64px;
    --grid-color: rgba(255,255,255,.055);
    --corner-stroke: rgba(255,90,160,.28);
  }

  .mono-stage{
    position:fixed; inset:0; z-index:-1; pointer-events:none; overflow:hidden;
    background:
      
      radial-gradient(820px 520px at 50% -8%, color-mix(in oklab, var(--mono-accent) 14%, transparent), transparent 62%),
      linear-gradient(180deg, var(--mono-top) 0%, var(--mono-bot) 100%);
  }

  
  .mono-stage .mono-glow{
    position:absolute; pointer-events:none; z-index:0;
    width:clamp(420px,38vw,760px); height:clamp(420px,38vw,760px);
    border-radius:50%;
    mix-blend-mode:screen;
    background:
      radial-gradient(circle at 50% 50%,
        rgba(255,90,160,.32) 0%,
        rgba(255,90,160,.18) 36%,
        rgba(255,90,160,.08) 60%,
        transparent 72%);
    filter: blur(2px);
    opacity:.9;
  }
  .mono-stage .mono-glow.g1{ top:-140px; left:50%; transform:translateX(-50%); }
  .mono-stage .mono-glow.g2{ top:36%; right:14%; }
  .mono-stage .mono-glow.g3{ bottom:-180px; left:16%; }

  
  .mono-grid{
    position:absolute; inset:0; mix-blend-mode:screen; opacity:.9;
    background-image:
      repeating-linear-gradient(to bottom, var(--grid-color) 0 1px, transparent 1px var(--grid-size)),
      repeating-linear-gradient(to right,  var(--grid-color) 0 1px, transparent 1px var(--grid-size));
    -webkit-mask: radial-gradient(1400px 900px at 50% 20%, #000 78%, transparent 100%);
            mask: radial-gradient(1400px 900px at 50% 20%, #000 78%, transparent 100%);
    z-index:1;
  }

  
  .mono-vignette{ position:absolute; inset:0;
    background: radial-gradient(1200px 900px at 50% 40%, transparent 70%, rgba(0,0,0,.5) 100%);
    z-index:2;
  }

  
  .mono-corner{
    position:absolute; width:96px; height:96px; opacity:.55;
    border:2px solid var(--corner-stroke); border-bottom:none; border-right:none; border-radius:16px;
    z-index:3;
  }
  .mono-corner.tl{ top:120px; left:clamp(16px,6vw,240px); }
  .mono-corner.tr{ top:120px; right:clamp(16px,6vw,240px); transform:scaleX(-1); }

  
  .mono-content{ position:relative; z-index:0; }
  header.sticky-top{ position:sticky; top:0; z-index:1; }

  @media (max-width: 992px){
    .mono-stage .mono-glow.g2{ right:8%; top:40%; }
    .mono-stage .mono-glow.g3{ left:10%; bottom:-140px; }
  }
</style>

{# masque un éventuel ancien fond image #}
{% if shop.background_image_url %}<style>.bg-image{display:none!important}</style>{% endif %}

<div class="mono-stage" aria-hidden="true">
  
  <div class="mono-glow g1"></div>
  <div class="mono-glow g2"></div>
  <div class="mono-glow g3"></div>

  <div class="mono-grid"></div>
  <div class="mono-vignette"></div>
  <div class="mono-corner tl"></div>
  <div class="mono-corner tr"></div>
</div>